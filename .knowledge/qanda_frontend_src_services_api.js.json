{"is_source_file": true, "format": "JavaScript", "description": "This file defines utility functions and API wrappers for interacting with a backend service in a frontend application. It includes URL construction, fetch wrappers with error handling, and functions for common API endpoints such as health check, questions, documents, and users.", "external_files": ["fetch (built-in)", "window (browser global)", "console (browser logging)"], "external_methods": ["fetch", "console.warn", "window.location.protocol"], "published": ["healthCheck", "askQuestion", "listDocuments", "createDocument", "getDocument", "deleteDocument", "addDocumentChunk", "listUsers", "createUser", "getUser", "updateUser"], "classes": [], "methods": [{"name": "buildBaseUrl()", "description": "Constructs the base URL for backend API access, preferring environment variable and handling protocols and path fixes.", "scope": "", "scopeKind": ""}, {"name": "http(path, options = {})", "description": "Performs a fetch request with error handling, URL construction, and JSON response parsing.", "scope": "", "scopeKind": ""}, {"name": "healthCheck()", "description": "Checks the health status of the backend service.", "scope": "", "scopeKind": ""}, {"name": "askQuestion({ question, user_id })", "description": "Sends a question to the backend QA endpoint, returning an answer with references.", "scope": "", "scopeKind": ""}, {"name": "listDocuments()", "description": "Retrieves a list of all documents.", "scope": "", "scopeKind": ""}, {"name": "createDocument(doc)", "description": "Creates a new document with optional chunks.", "scope": "", "scopeKind": ""}, {"name": "getDocument(id)", "description": "Retrieves a specific document by ID.", "scope": "", "scopeKind": ""}, {"name": "deleteDocument(id)", "description": "Deletes a document by ID.", "scope": "", "scopeKind": ""}, {"name": "addDocumentChunk(id, chunk)", "description": "Adds a chunk to an existing document via partial update.", "scope": "", "scopeKind": ""}, {"name": "listUsers()", "description": "Retrieves a list of users.", "scope": "", "scopeKind": ""}, {"name": "createUser(user)", "description": "Creates a new user.", "scope": "", "scopeKind": ""}, {"name": "getUser(id)", "description": "Retrieves user details by ID.", "scope": "", "scopeKind": ""}, {"name": "updateUser(id, user)", "description": "Updates user details by ID.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "console.warn", "window.location.protocol", "window.location", "resp.headers.get", "resp.json", "resp.text"], "search-terms": ["api.js", "buildBaseUrl", "http", "healthCheck", "askQuestion", "documents", "users", "API interaction", "fetch wrapper", "frontend API"], "state": 2, "file_id": 14, "knowledge_revision": 55, "git_revision": "837521870605848f23e6cb4bf695b26521c7ff93", "revision_history": [{"29": ""}, {"45": "9de67aea22f9ef72c351bbea6685876d4afa8325"}, {"54": "837521870605848f23e6cb4bf695b26521c7ff93"}, {"55": "837521870605848f23e6cb4bf695b26521c7ff93"}], "ctags": [{"_type": "tag", "name": "addDocumentChunk", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function addDocumentChunk(id, chunk) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, chunk)"}, {"_type": "tag", "name": "askQuestion", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function askQuestion({ question, user_id }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ question, user_id })"}, {"_type": "tag", "name": "buildBaseUrl", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^function buildBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createDocument", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function createDocument(doc) {$/", "language": "JavaScript", "kind": "function", "signature": "(doc)"}, {"_type": "tag", "name": "createUser", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function createUser(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "deleteDocument", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function deleteDocument(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getDocument", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function getDocument(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getUser", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function getUser(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "healthCheck", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function healthCheck() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^async function http(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "listDocuments", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function listDocuments() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listUsers", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function listUsers() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "updateUser", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2994/qanda_frontend/src/services/api.js", "pattern": "/^export async function updateUser(id, user) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, user)"}], "hash": "f41be7586b30208e6e951c6ad77d737e", "format-version": 4, "code-base-name": "qanda_frontend", "filename": "qanda_frontend/src/services/api.js"}